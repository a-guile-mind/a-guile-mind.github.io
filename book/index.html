<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/static/css/markdown.css">
  <title>A Guile Mind Book</title>
</head>

<body>
  <div>
    <article class="markdown-body entry-content p-5" itemprop="text">
      <h1>
        <a id="user-content-a-guile-mind-book" class="anchor" aria-hidden="true" href="#a-guile-mind-book"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>A Guile Mind Book
      </h1>
      <p>
        <a href="https://github.com/a-guile-mind/book">This work is free work under cc-by-nc-sa, you can contribute.</a>
      </p>
      <h2>
        <a id="user-content-introduction" class="anchor" aria-hidden="true" href="#introduction"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Introduction
      </h2>
      <p>
        This is a work in progress book about GNU Guile Scheme. It's goal is
        to broaden the horizon of the reader and hopefully help them become a
        Guile hacker. It is not a perfect academical course about Scheme or
        Guile or even programming. Prior knowledge about programming is
        required. Knowledge of Python, Javascript or Ruby is good enough. It
        aims to help the average Jane and Joe developer to get started with
        GNU Guile and fight boredom with the help of lot of parentheses.
      </p>
      <p>
        <a target="_blank" rel="noopener noreferrer" href="images/lisp_cycles.png"><img src="images/lisp_cycles.png"
            alt="lisp future-past" style="max-width: 100%;" /></a>
      </p>
      <p>
        An important note is that this book doesn't claim that you will feel
        englightened after reading it.
      </p>
      <p>
        <a target="_blank" rel="noopener noreferrer" href="images/lisp.jpg"><img src="images/lisp.jpg"
            alt="god code lisp" style="max-width: 100%;" /></a>
      </p>
      <h2>
        <a id="user-content-why-guile" class="anchor" aria-hidden="true" href="#why-guile"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Why Guile?
      </h2>
      <p>
        Nowdays they are dozens of (exotic?) progamming languages that you
        could learn so you might be wondering: Why GNU Guile is a good choice?
        I don't know for you, but here are the reasons why I learned it:
      </p>
      <ul>
        <li>
          It's a GNU project. As such, programming in Guile is contributing to
          it. As a free software advocate, I was looking for a way to
          contribute back that had more impact than simply using a GNU
          license.
        </li>
        <li>
          It's a Scheme which follows the Scheme standard. This means that
          what you (will?) learn in Guile can be somewhat re-used to learn
          another Scheme. For instance, it allowed me to jump into BiwaScheme,
          a Scheme interpreter written in Javascript, which in turns allowed
          me to understand better modern web frameworks like React, Elm or
          Vue.
        </li>
        <li>
          Guile is primarly a functional language. In this way, it provides
          various facilities to work with immutable data structures, but it
          doesn't forbid mutation either. It also has a framework for doing
          Object Oriented Programming rather differently than what you are
          used to but still familiar enough. So, you will learn new things
          <em>without leaving too much your confort zone</em>.
        </li>
      </ul>
      <p>
        Also Guile has no Global Interpreter Lock, which means that you can
        fully take advantage of multiple cores. It has powerful
        <a href="https://github.com/wingo/fibers/">lightweight thread facility</a>
        albeit experimental. Guile has a good scientifical background. It has
        powerful metaprogramming facilities through macros and a powerful
        Object Oriented Programming framework.
      </p>
      <h2>
        <a id="user-content-tutorial" class="anchor" aria-hidden="true" href="#tutorial"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Tutorial
      </h2>
      <h3>
        <a id="user-content-installing-gnu-guix" class="anchor" aria-hidden="true" href="#installing-gnu-guix"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Installing GNU Guix
      </h3>
      <p>
        It is recommended to install guix package manager because that is the
        primary way to acquire Guile modules. Take a look at
        <a href="https://www.gnu.org/software/guix/manual/en/guix.html#Binary-Installation" rel="nofollow">Guix
          installation instructions</a>
        and put every Guix environment variable under <code>~/.guix</code>.
        Then source that file when you want to work on Guile stuff.
      </p>
      <p>
        Guile 2.2 is also available in many distros, so for the tutorial you
        will not need more dependencies than the ones that come with it.
      </p>
      <h3>
        <a id="user-content-getting-started" class="anchor" aria-hidden="true" href="#getting-started"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Getting started
      </h3>
      <h4>
        <a id="user-content-bootstraping" class="anchor" aria-hidden="true" href="#bootstraping"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Bootstraping
      </h4>
      <p>
        To start following the tutorial, install guile and launch the REPL
        with <code>guile</code> command. The following line of text will be
        displayed:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt;</pre>
      </div>
      <p>
        You can type for instance <code>1985</code> and you will now see the
        following:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; 1985
$1 <span class="pl-k">=</span> 1985</pre>
      </div>
      <h4>
        <a id="user-content-introduction-1" class="anchor" aria-hidden="true" href="#introduction-1"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Introduction
      </h4>
      <p>In this tutorial you will study how to:</p>
      <ul>
        <li>call a procedure</li>
        <li>define a variable</li>
        <li>create a list</li>
        <li>apply a procedure to a list</li>
        <li>create pairs</li>
        <li>create a scheme dictionary aka. association list aka. alist</li>
        <li>define a procedure</li>
        <li>
          create a new list from an initial list and a procedure using map
        </li>
      </ul>
      <p>Let's go!</p>
      <h4>
        <a id="user-content-calling-a-procedure" class="anchor" aria-hidden="true" href="#calling-a-procedure"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Calling a procedure
      </h4>
      <p>
        A procedure is equivalent to what other languages call a function. In
        Guile, for example, the addition is a procedure. To add 27 to 15 you
        can do:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">+</span> <span class="pl-c1">27</span> <span class="pl-c1">15</span>)
$2 <span class="pl-k">=</span> 42</pre>
      </div>
      <p>
        There is also a minus procedure named <code>-</code> and times named
        <code>*</code>, so Guile is a perfect calculator and supports
        arbitrary big numbers. If this doesn't speak to you, suffice to say
        it's very useful for doing science.
      </p>
      <p>
        Imagine that you have 101 donuts for the year. You'd like to know how
        many donuts you can eat per hour without running out of them. You
        solve this big problem using the following code:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">/</span> <span class="pl-c1">101</span> (<span class="pl-k">*</span> <span class="pl-c1">24</span> <span class="pl-c1">365</span>))
$3 <span class="pl-k">=</span> 101/8760</pre>
      </div>
      <p>
        As you can see it returns an exact number. To convert the results to
        something that is more readable, we can ask Guile to use the procedure
        <code>exact-&gt;inexact</code>:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-c1">exact-&gt;inexact</span> $3)
$4 <span class="pl-k">=</span> 0.011529680365296804</pre>
      </div>
      <p>
        In the above <code>$3</code> references the result of
        <code>(/ (* 24 365) 101)</code>. If the result count is not the same
        as the one used above, replace <code>$3</code> with the value you see.
      </p>
      <h4>
        <a id="user-content-repl" class="anchor" aria-hidden="true" href="#repl"><svg class="octicon octicon-link"
            viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>REPL
      </h4>
      <p>The Read-Eval-Print-Loop aka. REPL is a very useful tool.</p>
      <p>
        The default configuration doesn't use readline. You can activate it
        using a <code>$HOME/.guile</code> configuration file. Create it and
        copy/paste the following:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>(use-modules (texinfo reflection)) <span class="pl-c"><span class="pl-c">;</span>; help</span>
(use-modules (ice-9 readline))
(activate-readline)</pre>
      </div>
      <p>and restart the REPL.</p>
      <p>
        You can try using up and down arrows to navigate the history. Use TAB
        to complete the current input. For instance, if you type exact and hit
        TAB, it will display a list of procedures that start with it.
      </p>
      <p>
        You can now also use <code>(help something)</code> to get the
        documentation of <code>SOMETHING</code>.
      </p>
      <h4>
        <a id="user-content-toplevel-variable-definition" class="anchor" aria-hidden="true"
          href="#toplevel-variable-definition"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1"
            width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Toplevel variable definition
      </h4>
      <p>
        The first way to define variables is using the
        <code>define</code> form:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">define</span> <span class="pl-smi">guilers</span> 1337)</pre>
      </div>
      <p>
        <code>define</code> returns nothing, that's why there no line with a
        dollar sign.
      </p>
      <p>
        At the next Guile hackfest 1337 guilers will gather to hack the final
        cosmits for the Earth Software System. Every hacker is given an apple,
        three donuts and two chais. How many apples, donuts and chais are
        needed?
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">define</span> <span class="pl-smi">apple-per-guiler</span> 1)
scheme@(guile-user)&gt; (<span class="pl-k">define</span> <span class="pl-smi">apples</span> (<span class="pl-k">*</span> apple-per-guiler guilers))
scheme@(guile-user)&gt; apples
$15 <span class="pl-k">=</span> 1337
scheme@(guile-user)&gt; (<span class="pl-k">define</span> <span class="pl-smi">donut-per-guiler</span> 3)
scheme@(guile-user)&gt; (<span class="pl-k">define</span> <span class="pl-smi">donuts</span> (<span class="pl-k">*</span> donut-per-guiler guilers))
scheme@(guile-user)&gt; donuts
$16 <span class="pl-k">=</span> 4011
scheme@(guile-user)&gt; (<span class="pl-k">define</span> <span class="pl-smi">chai-per-guiler</span> 2)
scheme@(guile-user)&gt; (<span class="pl-k">define</span> <span class="pl-smi">chais</span> (<span class="pl-k">*</span> chai-per-guiler guilers))
scheme@(guile-user)&gt; chais
$17 <span class="pl-k">=</span> 2674</pre>
      </div>
      <p>
        How much food in total will be given? Try to guess how to compute the
        total...
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">+</span> chais donuts apples)
$18 <span class="pl-k">=</span> 8022</pre>
      </div>
      <p>Got it?</p>
      <h4>
        <a id="user-content-list-list-list" class="anchor" aria-hidden="true" href="#list-list-list"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>List List List
      </h4>
      <p>
        Scheme is made of list. Maybe you did not recognize it but the parens
        and what's inside the parens separated by space form a list.
      </p>
      <p>
        To build your own list you can use the <code>list</code> procedure:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-c1">list</span> apples donuts chais)
$19 <span class="pl-k">=</span> (<span class="pl-c1">1337</span> <span class="pl-c1">4011</span> <span class="pl-c1">2674</span>)</pre>
      </div>
      <p>
        To retrieve the head of the list you can use
        <code>car</code> procedure:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-c1">car</span> (<span class="pl-c1">list</span> apples donuts chais))
$20 <span class="pl-k">=</span> 1337</pre>
      </div>
      <p>Whereas <code>cdr</code> procedure will retrive the tail:</p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-c1">cdr</span> (<span class="pl-c1">list</span> apples donuts chais))
$21 <span class="pl-k">=</span> (<span class="pl-c1">4011</span> <span class="pl-c1">2674</span>)</pre>
      </div>
      <p>Ok?</p>
      <h4>
        <a id="user-content-apply" class="anchor" aria-hidden="true" href="#apply"><svg class="octicon octicon-link"
            viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>apply
      </h4>
      <p>
        Say you already have a list that you want to pass as arguments to a
        procedure. How do you do? Well, for that you use the
        <code>(apply proc lst)</code> procedure, which takes the list
        <code>LST</code> as arguments to apply to the procedure
        <code>PROC</code>.
      </p>
      <p>For instance you can compute the sum of a list of integers using:</p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">define</span> <span class="pl-smi">everything</span> (<span class="pl-c1">list</span> apples donuts chais))
scheme@(guile-user)&gt; (<span class="pl-c1">apply</span> <span class="pl-k">+</span> everything)
$22 <span class="pl-k">=</span> 8022</pre>
      </div>
      <h4>
        <a id="user-content-strings" class="anchor" aria-hidden="true" href="#strings"><svg class="octicon octicon-link"
            viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Strings
      </h4>
      <p>
        Strings in Guile are similar to strings in other languages. The single
        particular thing is that you can only define strings with double
        quotes:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">define</span> <span class="pl-smi">box</span> (<span class="pl-c1">list</span> <span class="pl-s"><span class="pl-pds">"</span>1 apples<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>3 donuts<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>2 chais<span class="pl-pds">"</span></span>))</pre>
      </div>
      <p>This is a pretty simple definition for the box.</p>
      <h4>
        <a id="user-content-associations" class="anchor" aria-hidden="true" href="#associations"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Associations
      </h4>
      <p>
        Another important data structure of Guile is the association list.
        It's actually only a list of pairs. A pair is constructed with
        <code>cons</code> procedure, for instance:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-c1">cons</span> <span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span> <span class="pl-c1">1</span>)
$20 <span class="pl-k">=</span> (<span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span> . <span class="pl-c1">1</span>)</pre>
      </div>
      <p>This means that "apple" is associated with 1.</p>
      <p>
        Together, <code>cons</code>, <code>car</code> and <code>cdr</code> are
        list primitives. Higher level procedures exist to deal with more
        complex situations.
      </p>
      <p>An association is a list of cons.</p>
      <p>
        To define a better representation for the box, we can use the
        following code:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">define</span> <span class="pl-smi">box</span> (<span class="pl-c1">list</span> (<span class="pl-c1">cons</span> <span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span> <span class="pl-c1">1</span>) (<span class="pl-c1">cons</span> <span class="pl-s"><span class="pl-pds">"</span>donuts<span class="pl-pds">"</span></span> <span class="pl-c1">3</span>) (<span class="pl-c1">cons</span> <span class="pl-s"><span class="pl-pds">"</span>chais<span class="pl-pds">"</span></span> <span class="pl-c1">2</span>)))
scheme@(guile-user)&gt; box
$21 <span class="pl-k">=</span> ((<span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span> . <span class="pl-c1">1</span>) (<span class="pl-s"><span class="pl-pds">"</span>donuts<span class="pl-pds">"</span></span> . <span class="pl-c1">3</span>) (<span class="pl-s"><span class="pl-pds">"</span>chais<span class="pl-pds">"</span></span> . <span class="pl-c1">2</span>))
scheme@(guile-user)&gt;</pre>
      </div>
      <p>
        Now we can retrieve the number of chai in a box using
        <code>assoc-ref</code> procedure:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (assoc-ref box <span class="pl-s"><span class="pl-pds">"</span>chais<span class="pl-pds">"</span></span>)
$22 <span class="pl-k">=</span> 2</pre>
      </div>
      <p>
        Usually the first argument of a procedure is the primary object, which
        is the object against the action is taken.
      </p>
      <h4>
        <a id="user-content-toplevel-procedure-definition" class="anchor" aria-hidden="true"
          href="#toplevel-procedure-definition"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1"
            width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Toplevel procedure definition
      </h4>
      <p>
        <code>define</code> is also used to define a procedure but with a
        small syntax change.
      </p>
      <p>Remember that to define a variable the syntax is the following:</p>
      <div class="highlight highlight-source-scheme">
        <pre>(<span class="pl-k">define</span> <span class="pl-smi">answer</span> 42)</pre>
      </div>
      <p>Let's define <code>ruse</code> procedure that returns itself:</p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">define</span> (<span class="pl-en">ruse</span>) ruse)
scheme@(guile-user)&gt; ruse
$24 <span class="pl-k">=</span> #&lt;procedure ruse ()&gt;
scheme@(guile-user)&gt; (ruse)
$25 <span class="pl-k">=</span> #&lt;procedure ruse ()&gt;
scheme@(guile-user)&gt;</pre>
      </div>
      <p>
        This procedure is not useful, except to explicit the syntax of
        <code>define</code> to define a procedure. The astute reader has noted
        that the procedure takes no argument. Such procedure is called a
        <em>thunk</em>. Calling a procedure you defined is done the same way
        as regular procedures. In this case, the procedure takes no arguments
        so it looks different but the principle is the same.
      </p>
      <p>
        Let's define a procedure that takes two arguments and returns their
        mean:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">define</span> (<span class="pl-en">mean</span><span class="pl-smi"> a b</span>) (<span class="pl-k">/</span> (<span class="pl-k">+</span> a b) <span class="pl-c1">2</span>))
scheme@(guile-user)&gt; (mean <span class="pl-c1">12</span> <span class="pl-c1">12</span>)
$29 <span class="pl-k">=</span> 12</pre>
      </div>
      <p>
        Mind the fact that space and newlines have no effect on the
        interpretation of Scheme code. So the above one liner can be written
        as follows:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">define</span> (<span class="pl-en">mean</span><span class="pl-smi"> a b</span>)
                       (<span class="pl-k">/</span> (<span class="pl-k">+</span> a b) <span class="pl-c1">2</span>))</pre>
      </div>
      <p>Let's try something more complex.</p>
      <h4>
        <a id="user-content-map-procedure" class="anchor" aria-hidden="true" href="#map-procedure"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a><code>map</code> procedure
      </h4>
      <p>
        One of the most important procedures of Guile is
        <code>(map proc lst)</code>, which iterates over a list and applies a
        procedure over each item. Given a <code>list (list a b c)</code> it
        will return a new list <code>(list (proc a) (proc b) (proc c))</code>.
      </p>
      <p>For instance, we can increment a list of integers:</p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-c1">map</span> 1+ (iota <span class="pl-c1">5</span>))
$30 <span class="pl-k">=</span> (<span class="pl-c1">1</span> <span class="pl-c1">2</span> <span class="pl-c1">3</span> <span class="pl-c1">4</span> <span class="pl-c1">5</span>)</pre>
      </div>
      <p>Mind the fact that <code>$30</code> is a new list. Try this:</p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">define</span> <span class="pl-smi">numbers</span> (iota <span class="pl-c1">5</span>))
scheme@(guile-user)&gt; (<span class="pl-k">define</span> <span class="pl-smi">others</span> (<span class="pl-c1">map</span> 1+ numbers))
scheme@(guile-user)&gt; (<span class="pl-c1">equal?</span> numbers others)
$31 <span class="pl-k">=</span> #f
scheme@(guile-user)&gt; numbers
$32 <span class="pl-k">=</span> (<span class="pl-c1">0</span> <span class="pl-c1">1</span> <span class="pl-c1">2</span> <span class="pl-c1">3</span> <span class="pl-c1">4</span>)
scheme@(guile-user)&gt; others
$33 <span class="pl-k">=</span> (<span class="pl-c1">1</span> <span class="pl-c1">2</span> <span class="pl-c1">3</span> <span class="pl-c1">4</span> <span class="pl-c1">5</span>)</pre>
      </div>
      <p>
        You can see that <code>map</code> creates a new list based on the
        input list.
      </p>
      <h4>
        <a id="user-content-making-list-out-of-a-list" class="anchor" aria-hidden="true"
          href="#making-list-out-of-a-list"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1"
            width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Making list out of a list
      </h4>
      <p>
        To finish the introduction to the basics we will define a procedure
        that will simulate a guiler picking a chai from her box. Remember the
        box is defined as an association:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">define</span> <span class="pl-smi">box</span> (<span class="pl-c1">list</span> (<span class="pl-c1">cons</span> <span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span> <span class="pl-c1">1</span>) (<span class="pl-c1">cons</span> <span class="pl-s"><span class="pl-pds">"</span>donuts<span class="pl-pds">"</span></span> <span class="pl-c1">3</span>) (<span class="pl-c1">cons</span> <span class="pl-s"><span class="pl-pds">"</span>chais<span class="pl-pds">"</span></span> <span class="pl-c1">2</span>)))
scheme@(guile-user)&gt; box
$21 <span class="pl-k">=</span> ((<span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span> . <span class="pl-c1">1</span>) (<span class="pl-s"><span class="pl-pds">"</span>donuts<span class="pl-pds">"</span></span> . <span class="pl-c1">3</span>) (<span class="pl-s"><span class="pl-pds">"</span>chais<span class="pl-pds">"</span></span> . <span class="pl-c1">2</span>))
scheme@(guile-user)&gt;</pre>
      </div>
      <p>
        The association is a list, so it can go through
        <code>map</code> procedure. We will mock the procedure that we want to
        implement:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">define</span> (<span class="pl-en">pick-chai</span><span class="pl-smi"> box</span>)
                       (<span class="pl-c1">map</span> pair-pick-chai box))</pre>
      </div>
      <p>
        <code>pair-pick-chai</code> takes an item of the box ie. a pair,
        that's why it's prefixed with pair-. It must decrement the count of
        chais if it's a "chai" pair or return the pair as-is if it's not. Will
        need a conditional branch if.
      </p>
      <p><code>if</code> syntax is the following:</p>
      <div class="highlight highlight-source-scheme">
        <pre>(<span class="pl-k">if</span> &lt;test&gt;
    &lt;then&gt;
    &lt;else&gt;)</pre>
      </div>
      <p>Live it looks like this:</p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">if</span> <span class="pl-c1">#t</span>rue <span class="pl-s"><span class="pl-pds">"</span>ok<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>ko<span class="pl-pds">"</span></span>)
$34 <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>ok<span class="pl-pds">"</span></span></pre>
      </div>
      <p>
        So, if we also use <code>car</code> and <code>cdr</code>, you may
        guess that <code>pair-pick-chai</code> can be defined as:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">define</span> (<span class="pl-en">pair-pick-chai</span><span class="pl-smi"> pair</span>)
                       (<span class="pl-k">if</span> (<span class="pl-c1">equal?</span> (<span class="pl-c1">car</span> pair) <span class="pl-s"><span class="pl-pds">"</span>chais<span class="pl-pds">"</span></span>)
                           (<span class="pl-c1">cons</span> <span class="pl-s"><span class="pl-pds">"</span>chais<span class="pl-pds">"</span></span> (1- (<span class="pl-c1">cdr</span> pair)))
                           pair))</pre>
      </div>
      <p>
        That's all! Well almost... This is a bit naive because there might be
        no chai left. Maybe you can find how to solve this issue?
      </p>
      <h4>
        <a id="user-content-wrapping-up" class="anchor" aria-hidden="true" href="#wrapping-up"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Wrapping up
      </h4>
      <p>
        In the first part of this tutorial you studied the basics of Guile:
      </p>
      <ul>
        <li>
          how to call a procedure
          <code>(string-&gt;list "abcdefghijklmnopqrstuvxyz")</code>
        </li>
        <li>
          how to define a Scheme variable: <code>(define answer 42)</code>
        </li>
        <li>
          how to create a Scheme list : <code>(list "abc" ruse 22)</code>
        </li>
        <li>how to create Scheme pairs: <code>(cons "guile" 1)</code></li>
        <li>
          how to create Scheme associations:
          <code>(list (cons "functional" 1) (cons "OOP" 2))</code>
        </li>
        <li>
          how to define a Scheme procedure:
          <code>(define (decrement count) (- count 1))</code>
        </li>
        <li>
          how to use Scheme <code>(map proc lst)</code> to create a new list
          out of a list and procedure
        </li>
      </ul>
      <h3>
        <a id="user-content-going-forward" class="anchor" aria-hidden="true" href="#going-forward"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Going forward
      </h3>
      <h4>
        <a id="user-content-introduction-2" class="anchor" aria-hidden="true" href="#introduction-2"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Introduction
      </h4>
      <h5>
        <a id="user-content-backtracking" class="anchor" aria-hidden="true" href="#backtracking"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Backtracking
      </h5>
      <p>In the first tutorial we studied the basics of Guile. We studied:</p>
      <ul>
        <li>
          how to call a procedure
          <code>(string-&gt;list "abcdefghijklmnopqrstuvxyz")</code>
        </li>
        <li>how to define a variable <code>(define answer 42)</code></li>
        <li>how to create a list <code>(list "abc" ruse 22)</code></li>
        <li>how to create pairs <code>(cons "guile" 1)</code></li>
        <li>
          how to create associations
          <code>(list (cons "functional" 1) (cons "OOP" 2))</code>
        </li>
        <li>
          how to define a procedure
          <code>(define (decrement count) (- count 1))</code>
        </li>
        <li>
          how to use <code>(map proc lst)</code> to create new list out of a
          list and procedure
        </li>
      </ul>
      <h5>
        <a id="user-content-continuation" class="anchor" aria-hidden="true" href="#continuation"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Continuation
      </h5>
      <p>In this tutorial you will study:</p>
      <ul>
        <li>how to solve the last exercise</li>
        <li>how to define variables inside procedures</li>
        <li>a shorthand to make recursive procedures</li>
        <li>how to define mutable datastructures</li>
      </ul>
      <h4>
        <a id="user-content-picking-up-breakfast" class="anchor" aria-hidden="true" href="#picking-up-breakfast"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Picking up breakfast
      </h4>
      <p>
        In the last tutorial we offered a breakfast box for every guiler.
        Remember it looked like the following:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">define</span> <span class="pl-smi">box</span> (<span class="pl-c1">list</span> (<span class="pl-c1">cons</span> <span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span> <span class="pl-c1">1</span>) (<span class="pl-c1">cons</span> <span class="pl-s"><span class="pl-pds">"</span>donuts<span class="pl-pds">"</span></span> <span class="pl-c1">3</span>) (<span class="pl-c1">cons</span> <span class="pl-s"><span class="pl-pds">"</span>chais<span class="pl-pds">"</span></span> <span class="pl-c1">2</span>)))</pre>
      </div>
      <p>
        We created a procedure that picked a chai from the box, but it was
        picking something even if nothing was in the box:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">define</span> (<span class="pl-en">pick-chai</span><span class="pl-smi"> box</span>)
                       (<span class="pl-c1">map</span> pair-pick-chai box))
<span class="pl-c"><span class="pl-c">;</span>;; &lt;stdin&gt;:202:23: warning: possibly unbound variable `pair-pick-chai'</span>
scheme@(guile-user)&gt; (<span class="pl-k">define</span> (<span class="pl-en">pair-pick-chai</span><span class="pl-smi"> pair</span>)
                       (<span class="pl-k">if</span> (<span class="pl-c1">equal?</span> (<span class="pl-c1">car</span> pair) <span class="pl-s"><span class="pl-pds">"</span>chais<span class="pl-pds">"</span></span>)
                           (<span class="pl-c1">cons</span> <span class="pl-s"><span class="pl-pds">"</span>chai<span class="pl-pds">"</span></span> (1- (<span class="pl-c1">cdr</span> pair)))
                           pair))</pre>
      </div>
      <p>
        Now when we apply the first procedure, it really pick a chai, but
        doesn't stop picking when there is no more chai, which leads to the
        strange situations where there is <code>-1</code> chai in the box:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">define</span> <span class="pl-smi">box-v2</span> (pick-chai box))
scheme@(guile-user)&gt; box-v2
$39 <span class="pl-k">=</span> ((<span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span> . <span class="pl-c1">1</span>) (<span class="pl-s"><span class="pl-pds">"</span>donuts<span class="pl-pds">"</span></span> . <span class="pl-c1">3</span>) (<span class="pl-s"><span class="pl-pds">"</span>chais<span class="pl-pds">"</span></span> . <span class="pl-c1">1</span>))
scheme@(guile-user)&gt; (<span class="pl-k">define</span> <span class="pl-smi">box-v3</span> (pick-chai box-v2))
scheme@(guile-user)&gt; box-v3
$40 <span class="pl-k">=</span> ((<span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span> . <span class="pl-c1">1</span>) (<span class="pl-s"><span class="pl-pds">"</span>donuts<span class="pl-pds">"</span></span> . <span class="pl-c1">3</span>) (<span class="pl-s"><span class="pl-pds">"</span>chais<span class="pl-pds">"</span></span> . <span class="pl-c1">0</span>))
scheme@(guile-user)&gt; (<span class="pl-k">define</span> <span class="pl-smi">box-v4</span> (pick-chai box-v3))
scheme@(guile-user)&gt; box-v4
$41 <span class="pl-k">=</span> ((<span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span> . <span class="pl-c1">1</span>) (<span class="pl-s"><span class="pl-pds">"</span>donuts<span class="pl-pds">"</span></span> . <span class="pl-c1">3</span>) (<span class="pl-s"><span class="pl-pds">"</span>chais<span class="pl-pds">"</span></span> . -1))</pre>
      </div>
      <p>
        Remember that <code>(map proc lst)</code> returns a new list, hence
        <code>pick-chai</code> returns a new version of the box where one chai
        was picked. That's why we store the new version of the box and always
        pass its latest version to <code>pick-chai</code> to pick several
        chai.
      </p>
      <p>
        We should only pick a chai if there is actually a chai to pick. So we
        will rewrite the <code>pair-pick-chai</code> procedure and introduce
        the procedure <code>pair-maybe-pick-chai</code> that will return an
        empty chai pair if there's no more chai or a chai pair with one less
        chai if there is still some chai:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">define</span> (<span class="pl-en">pair-pick-chai</span><span class="pl-smi"> pair</span>)
                       (<span class="pl-k">if</span> (<span class="pl-c1">equal?</span> (<span class="pl-c1">car</span> pair) <span class="pl-s"><span class="pl-pds">"</span>chais<span class="pl-pds">"</span></span>)
                           (pair-maybe-pick-chai pair)
                           pair))
<span class="pl-c"><span class="pl-c">;</span>;; &lt;stdin&gt;:414:27: warning: possibly unbound variable `pair-maybe-pick-chai'</span>
scheme@(guile-user)&gt; (<span class="pl-k">define</span> (<span class="pl-en">pair-maybe-pick-chai</span><span class="pl-smi"> pair</span>)
                       (<span class="pl-k">if</span> (<span class="pl-c1">equal?</span> (<span class="pl-c1">cdr</span> pair) <span class="pl-c1">0</span>)
                           (<span class="pl-c1">cons</span> <span class="pl-s"><span class="pl-pds">"</span>chais<span class="pl-pds">"</span></span> <span class="pl-c1">0</span>)  <span class="pl-c"><span class="pl-c">;</span>; there is no more chai</span>
                           (<span class="pl-c1">cons</span> <span class="pl-s"><span class="pl-pds">"</span>chais<span class="pl-pds">"</span></span> (<span class="pl-k">-</span> (<span class="pl-c1">cdr</span> pair) <span class="pl-c1">1</span>))))</pre>
      </div>
      <p>
        <code>box-v3</code> is the box version which has no more chai. Let's
        try <code>(pick-chai box-v3)</code>. As you will see, the REPL will
        use the new <code>pair-pick-chai</code> procedure defined above that
        makes use of <code>pair-maybe-pick-chai</code>:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; box-v3
$46 <span class="pl-k">=</span> ((<span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span> . <span class="pl-c1">1</span>) (<span class="pl-s"><span class="pl-pds">"</span>donuts<span class="pl-pds">"</span></span> . <span class="pl-c1">3</span>) (<span class="pl-s"><span class="pl-pds">"</span>chai<span class="pl-pds">"</span></span> . <span class="pl-c1">0</span>))
scheme@(guile-user)&gt; (<span class="pl-k">define</span> <span class="pl-smi">box-v4.2</span> (pick-chai box-v3))
$47 <span class="pl-k">=</span> ((<span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span> . <span class="pl-c1">1</span>) (<span class="pl-s"><span class="pl-pds">"</span>donuts<span class="pl-pds">"</span></span> . <span class="pl-c1">3</span>) (<span class="pl-s"><span class="pl-pds">"</span>chai<span class="pl-pds">"</span></span> . <span class="pl-c1">0</span>))
scheme@(guile-user)&gt; (<span class="pl-c1">equal?</span> box-v3 $47)
$48 <span class="pl-k">=</span> #t</pre>
      </div>
      <p>
        As you see <code>box-v3</code> and <code>$47</code> are equal, which
        means that no chai was picked from the box.
      </p>
      <h4>
        <a id="user-content-variable-bindings" class="anchor" aria-hidden="true" href="#variable-bindings"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Variable bindings
      </h4>
      <p>
        Variable bindings is the construction Guile uses to define variables
        inside other constructions. This can be done thanks to
        <code>let*</code>, its syntax is the following:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>(<span class="pl-k">let*</span> ((variable-one value-one)
       (variable-two value-two)
        ...)
  (expression-one)
  (expression-two)
  (return-value))</pre>
      </div>
      <p>
        The first list that follows <code>let*</code> looks like a literal
        assoc without the dot between the variable key and the value. For
        instance, you can try the following in the REPL:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">let*</span> ((chai <span class="pl-c1">2</span>)
                            (donut <span class="pl-c1">3</span>)
                            (apple <span class="pl-c1">1</span>))
                       (<span class="pl-k">+</span> chai donut apple))
$49 <span class="pl-k">=</span> 6</pre>
      </div>
      <p>By the way, it's not very useful in the REPL.</p>
      <p>
        We can write a <code>box-mean</code> procedure that computes the mean
        count of food in the box:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">define</span> (<span class="pl-en">box-mean</span><span class="pl-smi"> box</span>)
                       (<span class="pl-k">let*</span> ((chais (assoc-ref box <span class="pl-s"><span class="pl-pds">"</span>chais<span class="pl-pds">"</span></span>))
                              (donuts (assoc-ref box <span class="pl-s"><span class="pl-pds">"</span>donut<span class="pl-pds">"</span></span>))
                              (apple (assoc-ref box <span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span>))
                              (total (<span class="pl-k">+</span> chai donuts apple)))
                         (<span class="pl-k">/</span> total <span class="pl-c1">3</span>)))
scheme@(guile-user)&gt; (box-mean box)
$53 <span class="pl-k">=</span> 2</pre>
      </div>
      <p>
        See what was done? The values are returned by a procedure and
        <code>total</code> re-uses the previously defined bindings.The star *
        in <code>let*</code> means that it's the improved version of
        <code>let</code>. <code>let</code> without star doesn't allow to
        reference bindings defined in the same binding block.
      </p>
      <h5>
        <a id="user-content-named-let" class="anchor" aria-hidden="true" href="#named-let"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Named let
      </h5>
      <p>
        Obviously, it's possible to do recursive calls with procedures that
        are defined using <code>define</code>. Using recursive behavior is
        widepread. Guile provides a helper syntax in the form of the
        named-let. It replaces the following syntax:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>(<span class="pl-k">define</span> (<span class="pl-en">recursive</span><span class="pl-smi"> a</span>)
  (<span class="pl-k">if</span> (<span class="pl-c1">equal?</span> a <span class="pl-c1">0</span>)
      <span class="pl-s"><span class="pl-pds">"</span>that's all!<span class="pl-pds">"</span></span>
      (recursive (<span class="pl-k">-</span> a <span class="pl-c1">1</span>))))

(recursive <span class="pl-c1">5</span>)</pre>
      </div>
      <p>With the following one:</p>
      <div class="highlight highlight-source-scheme">
        <pre>(<span class="pl-k">let</span> recursive ((a <span class="pl-c1">5</span>))
  (<span class="pl-k">if</span> (<span class="pl-c1">equal?</span> a <span class="pl-c1">0</span>)
      <span class="pl-s"><span class="pl-pds">"</span>that's all!<span class="pl-pds">"</span></span>
      (recursive (<span class="pl-k">-</span> a <span class="pl-c1">1</span>))))</pre>
      </div>
      <p>
        It is useful in situations where you would have defined a separate
        procedure to implement the recursive behavior.
      </p>
      <p>
        Good! We need a way to unbox the breakfast. Instead of an association,
        we'd like to have the food in a list appearing as many times as they
        appear in the box.
      </p>
      <p>
        Let's try to use <code>map</code>. <code>map</code> takes pairs, so
        unbox will look like the following:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>(<span class="pl-k">define</span> (<span class="pl-en">unbox</span><span class="pl-smi"> box</span>)
  (<span class="pl-c1">map</span> pair-unbox box))</pre>
      </div>
      <p>
        I hope you see what will happen. Every pair must be turned into a list
        with correct count of food. Let's define <code>pair-unbox</code>:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>    (<span class="pl-k">define</span> (<span class="pl-en">pair-unbox</span><span class="pl-smi"> pair</span>)
      (<span class="pl-k">let</span> loop ((food (<span class="pl-c1">car</span> pair))
                 (count (<span class="pl-c1">cdr</span> pair))
                 (plate (list)))
        (<span class="pl-k">if</span> (<span class="pl-c1">equal?</span> count <span class="pl-c1">0</span>)
            plate
            (loop food (<span class="pl-k">-</span> count <span class="pl-c1">1</span>) (<span class="pl-c1">cons</span> food plate)))))</pre>
      </div>
      <p>Little you knew that <code>cons</code> could also build lists...</p>
      <p>But what does this code work?! REPL to the rescue! Let's try it:</p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (pair-unbox (<span class="pl-c1">cons</span> <span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span> <span class="pl-c1">2</span>))
$65 <span class="pl-k">=</span> (<span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span>)</pre>
      </div>
      <p>
        So, now that we have everything in place we can try this first version
        of <code>unbox</code>:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (<span class="pl-k">define</span> (<span class="pl-en">unbox</span><span class="pl-smi"> box</span>)
                       (<span class="pl-c1">map</span> pair-unbox box))
scheme@(guile-user)&gt; (unbox box)
$68 <span class="pl-k">=</span> ((<span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span>) (<span class="pl-s"><span class="pl-pds">"</span>donut<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>donut<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>donut<span class="pl-pds">"</span></span>) (<span class="pl-s"><span class="pl-pds">"</span>chai<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>chai<span class="pl-pds">"</span></span>))</pre>
      </div>
      <p>
        As you can see, this doesn't look like a plate: they are nested lists.
      </p>
      <p>
        The simplest solution to solve this issue is to use
        <code>apppend-map</code> procedure instead of <code>map</code>.
      </p>
      <h4>
        <a id="user-content-defining-modules" class="anchor" aria-hidden="true" href="#defining-modules"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Defining modules
      </h4>
      <p>
        Fire you favorite emacs editor and open a new file named
        <code>ess.scm</code>.
      </p>
      <p>
        Modules are defined using <code> (define-module (o/))</code> where
        <code>o/</code> must be replaced with the module path of the defined
        module. In this case the <code>ess</code> module is a root module so
        you only have to add <code>(define-module (ess))</code> to the top of
        the file.
      </p>
      <p>
        If for instance, later, maybe, one day, we create a
        <code>ess/spaceship.scm</code> module, it will be defined with
        <code>(define-module (ess spaceship))</code>.
      </p>
      <h4>
        <a id="user-content-importing-other-modules" class="anchor" aria-hidden="true"
          href="#importing-other-modules"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16"
            height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Importing other modules
      </h4>
      <p>
        To import a module you have to use the <code>use-modules</code> form:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>(use-modules (intrisic thruth))</pre>
      </div>
      <p>It will import everything that is public in that module.</p>
      <p>
        They are numerous modules in Guile. A lot of them come from
        <a href="http://srfi.schemers.org/" rel="nofollow">SRFI</a>
        and
        <a href="https://r7rs.org/" rel="nofollow">rnrs</a>
        specifications, while some others are specific to Guile.
      </p>
      <p>Let's try the standard list module named <code>srfi-1</code>:</p>
      <div class="highlight highlight-source-scheme">
        <pre>scheme@(guile-user)&gt; (use-modules (srfi srfi-1))
scheme@(guile-user)&gt; (last box)
$54 <span class="pl-k">=</span> (<span class="pl-s"><span class="pl-pds">"</span>chais<span class="pl-pds">"</span></span> . <span class="pl-c1">2</span>)
scheme@(guile-user)&gt; (first box)
$55 <span class="pl-k">=</span> (<span class="pl-s"><span class="pl-pds">"</span>apple<span class="pl-pds">"</span></span> . <span class="pl-c1">1</span>)
scheme@(guile-user)&gt; (first (last box))
$56 <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>chais<span class="pl-pds">"</span></span></pre>
      </div>
      <h4>
        <a id="user-content-how-to-define-mutable-records" class="anchor" aria-hidden="true"
          href="#how-to-define-mutable-records"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1"
            width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>How to define mutable records
      </h4>
      <p>
        Lists (and assocs) are useful but are not the best mean for every end.
        For the situations where a list is not enough there are records.
        Records come in different flavors in Guile. Here we will use mutable
        records to explicit the fact that Guile can also work with mutable
        datastructures.
      </p>
      <p>
        To use records you must add
        <code>(use-modules (srfi srfi-9))</code> to the top of
        <code>ess.scm</code>.
      </p>
      <p>
        The Earth Software System needs a TODO application that we will
        implement in the following paragraphs.
      </p>
      <p>
        A TODO application is a list made of TODO items. We will describe a
        TODO item as a title and a status.
      </p>
      <p>
        We will define an <code>&lt;item&gt;</code> record using
        <code>define-record-type</code>. This form is a macro! Suffice to say,
        the abstract syntax tree is reworked by a procedure sometimes before
        execution. The final result is that the code you write is not executed
        like regular code but in some other way. In this case, the elements
        found in <code>define-record-type</code> "kind of list" are not
        expressions, so they are not executed like expressions but are
        specified as a record.
      </p>
      <p>
        If this doesn't make sense to you, just consider that
        <code>define-record-type</code> is a keyword followed by a specific
        syntax, even if in pratice, implementation wise, it's a kind of
        procedure:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>
    (define-record-type &lt;item&gt;
      (make-item title status)
      item?
      (title item-title-ref item-title-set!)
      (status item-status-ref item-status-set!))</pre>
      </div>
      <p>
        The above <code>define-record-type</code> named
        <code>&lt;item&gt;</code> has:
      </p>
      <ul>
        <li><code>make-item</code> as constructor</li>
        <li>two fields <code>title</code> and <code>status</code></li>
        <li><code>item?</code> as predicate</li>
        <li>
          <code>title</code> has <code>(item-title-ref item)</code> as getter
          and <code>(item-title-set! item title)</code> as setter
        </li>
        <li>
          Similarly, <code>status</code> has as getter and setter respectively
          <code>item-status-ref</code> and <code>item-status-set!</code>
        </li>
      </ul>
      <p>Let's define a few tasks:</p>
      <div class="highlight highlight-source-scheme">
        <pre>    (<span class="pl-k">define</span> <span class="pl-smi">todo</span> (<span class="pl-c1">list</span> (make-item <span class="pl-s"><span class="pl-pds">"</span>build earth software system<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>ongoing<span class="pl-pds">"</span></span>)
                       (make-item <span class="pl-s"><span class="pl-pds">"</span>build gnunet backed database<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>not started<span class="pl-pds">"</span></span>)
                       (make-item <span class="pl-s"><span class="pl-pds">"</span>find the answer<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>postponed<span class="pl-pds">"</span></span>)
                       (make-item <span class="pl-s"><span class="pl-pds">"</span>make a mini todo list application<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>not started<span class="pl-pds">"</span></span>)))</pre>
      </div>
      <p>
        We want a procedure to print the content of the TODO list. For that,
        we can use the following:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>    (<span class="pl-k">define</span> (<span class="pl-en">item-print</span><span class="pl-smi"> item</span>)
     (format <span class="pl-c1">#t</span>rue <span class="pl-s"><span class="pl-pds">"</span>~a: ~a<span class="pl-pds">"</span></span> (item-title item) (item-status item)))

    (<span class="pl-k">define</span> (<span class="pl-en">todo-print</span><span class="pl-smi"> todo</span>)
     (<span class="pl-c1">map</span> item-print todo))</pre>
      </div>
      <p>
        We will create a procedure that allows to set an item as
        <code>"done"</code>:
      </p>
      <div class="highlight highlight-source-scheme">
        <pre>(<span class="pl-k">define</span> (<span class="pl-en">item-done!</span><span class="pl-smi"> item</span>)
   (item-status-set! item <span class="pl-s"><span class="pl-pds">"</span>done<span class="pl-pds">"</span></span>))</pre>
      </div>
      <p>
        The <code>!</code> suffix means that the procedure mutates the
        <code>&lt;item&gt;</code>.
      </p>
      <p>Let's add an expression putting all this together:</p>
      <div class="highlight highlight-source-scheme">
        <pre>(item-done (<span class="pl-c1">list-ref</span> todo <span class="pl-c1">2</span>))
(todo-print todo)</pre>
      </div>
      <p>Ok?</p>
      <h4>
        <a id="user-content-wrapping-up-1" class="anchor" aria-hidden="true" href="#wrapping-up-1"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Wrapping Up
      </h4>
      <p>In this tutorial we:</p>
      <ul>
        <li>
          Solved the exercice of the previous tutorial with a slighly more
          complex code.
        </li>
        <li>
          Discovered that defining variables inside procedures is done
          differently via <code>let*</code> form.
        </li>
        <li>
          Studied a shorthand to define recursive procedures called the
          named-let.
        </li>
        <li>
          Defined records, in this case mutable records aka. records that are
          modified in place via <code>define-record-type</code> macro.
        </li>
      </ul>
      <h4>
        <a id="user-content-wrapping-up-1" class="anchor" aria-hidden="true" href="#wrapping-up-1"><svg
            class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Homework
      </h4>
      <p>Try to make a cryptocurrencies converter, for example <a href="https://coindataflow.com/en/currency/dogecoin">coindataflow</a>.</p>
      <h2>
        <a id="user-content-copying" class="anchor" aria-hidden="true" href="#copying"><svg class="octicon octicon-link"
            viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
          </svg></a>Copying
      </h2>
      <p>
        <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="nofollow">Attribution-NonCommercial-ShareAlike
          4.0 International</a>
      </p>
    </article>
  </div>
</body>

</html>